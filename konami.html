<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Konami Code</title>
</head>
<body>
<h1>Konami Code</h1>
<form>
    <h2>Type in your cheat code here</h2>
    <input id="textfield" type="text" placeholder="Type here"/>
    <div id="lives"></div>
</form>

<script src="js/jquery.js"></script>
<script>
    "use strict";

    var cheatKeys = {
        38: 'up',
        40: 'down',
        37: 'left',
        39: 'right',
        66: 'b',
        65: 'a'
    };
    var konami = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a'];


    var input = $('#textfield').keydown(function (event) {
        var i = 0;
        var key = cheatKeys[event.keyCode];
        var requiredKey = konami[i];

        if (key === requiredKey) {
            i++;
            if (i === konami.length) {
                cheatActive();
                i = 0;
            }
        } else {
            i = 0;
        }
    });



    $('#lives').html('3 &hearts;');

    //function that checks if keys were pushed in correct order
    function cheatActive() {
        $('body').css('background-color', '#add8e6');

        var win = new Audio('tada.mp3');
        win.play();
        $('#lives').html('30 &hearts;');
        alert('Activated Cheat');
    }

    //TODO: currently only recognizes code if nothing else is typed in before

</script>
</body>
</html>